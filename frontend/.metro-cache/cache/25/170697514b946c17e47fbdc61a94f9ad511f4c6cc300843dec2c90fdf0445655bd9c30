{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":26,"index":130}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _expoVirtualEnv = require(_dependencyMap[1], \"expo/virtual/env\");\n  var _zustand = require(_dependencyMap[2], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[3], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[4], \"axios\");\n  var axios = _interopDefault(_axios);\n  var API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  var useAuthStore = (0, _zustand.create)((set, get) => ({\n    user: null,\n    token: null,\n    isAuthenticated: false,\n    isLoading: true,\n    login: function () {\n      var _ref = (0, _asyncToGenerator.default)(function* (email, password) {\n        var response = yield axios.default.post(`${API_URL}/api/auth/login`, {\n          email,\n          password\n        });\n        var _response$data = response.data,\n          access_token = _response$data.access_token,\n          user = _response$data.user;\n        yield AsyncStorage.default.setItem('token', access_token);\n        axios.default.defaults.headers.common['Authorization'] = `Bearer ${access_token}`;\n        set({\n          user,\n          token: access_token,\n          isAuthenticated: true\n        });\n      });\n      return function login(_x, _x2) {\n        return _ref.apply(this, arguments);\n      };\n    }(),\n    register: function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* (email, password, firstName, lastName, dateOfBirth, referralCode) {\n        var response = yield axios.default.post(`${API_URL}/api/auth/register`, {\n          email,\n          password,\n          firstName,\n          lastName,\n          dateOfBirth,\n          referralCode: referralCode || undefined\n        });\n        var _response$data2 = response.data,\n          access_token = _response$data2.access_token,\n          user = _response$data2.user;\n        yield AsyncStorage.default.setItem('token', access_token);\n        axios.default.defaults.headers.common['Authorization'] = `Bearer ${access_token}`;\n        set({\n          user,\n          token: access_token,\n          isAuthenticated: true\n        });\n      });\n      return function register(_x3, _x4, _x5, _x6, _x7, _x8) {\n        return _ref2.apply(this, arguments);\n      };\n    }(),\n    logout: function () {\n      var _ref3 = (0, _asyncToGenerator.default)(function* () {\n        yield AsyncStorage.default.removeItem('token');\n        delete axios.default.defaults.headers.common['Authorization'];\n        set({\n          user: null,\n          token: null,\n          isAuthenticated: false\n        });\n      });\n      return function logout() {\n        return _ref3.apply(this, arguments);\n      };\n    }(),\n    loadToken: function () {\n      var _ref4 = (0, _asyncToGenerator.default)(function* () {\n        try {\n          var token = yield AsyncStorage.default.getItem('token');\n          if (token) {\n            axios.default.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n            var response = yield axios.default.get(`${API_URL}/api/auth/me`);\n            set({\n              user: response.data,\n              token,\n              isAuthenticated: true,\n              isLoading: false\n            });\n          } else {\n            set({\n              isLoading: false\n            });\n          }\n        } catch (error) {\n          yield AsyncStorage.default.removeItem('token');\n          set({\n            isLoading: false\n          });\n        }\n      });\n      return function loadToken() {\n        return _ref4.apply(this, arguments);\n      };\n    }(),\n    refreshUser: function () {\n      var _ref5 = (0, _asyncToGenerator.default)(function* () {\n        try {\n          var response = yield axios.default.get(`${API_URL}/api/auth/me`);\n          set({\n            user: response.data\n          });\n        } catch (error) {\n          console.error('Failed to refresh user:', error);\n        }\n      });\n      return function refreshUser() {\n        return _ref5.apply(this, arguments);\n      };\n    }()\n  }));\n});","lineCount":137,"map":[[12,2,34,0,"Object"],[12,8,34,0],[12,9,34,0,"defineProperty"],[12,23,34,0],[12,24,34,0,"exports"],[12,31,34,0],[13,4,34,0,"enumerable"],[13,14,34,0],[14,4,34,0,"get"],[14,7,34,0],[14,18,34,0,"get"],[14,19,34,0],[15,6,34,0],[15,13,34,0,"useAuthStore"],[15,25,34,0],[16,4,34,0],[17,2,34,0],[18,2,93,4],[18,6,93,4,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,93,4],[18,45,93,4,"require"],[18,52,93,4],[18,53,93,4,"_dependencyMap"],[18,67,93,4],[19,2,93,4],[19,6,93,4,"_asyncToGenerator"],[19,23,93,4],[19,26,93,4,"_interopDefault"],[19,41,93,4],[19,42,93,4,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,93,4],[20,2,93,4],[20,6,93,4,"_expoVirtualEnv"],[20,21,93,4],[20,24,93,4,"require"],[20,31,93,4],[20,32,93,4,"_dependencyMap"],[20,46,93,4],[21,2,1,0],[21,6,1,0,"_zustand"],[21,14,1,0],[21,17,1,0,"require"],[21,24,1,0],[21,25,1,0,"_dependencyMap"],[21,39,1,0],[22,2,2,0],[22,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[22,42,2,0],[22,45,2,0,"require"],[22,52,2,0],[22,53,2,0,"_dependencyMap"],[22,67,2,0],[23,2,2,0],[23,6,2,0,"AsyncStorage"],[23,18,2,0],[23,21,2,0,"_interopDefault"],[23,36,2,0],[23,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[23,73,2,0],[24,2,3,0],[24,6,3,0,"_axios"],[24,12,3,0],[24,15,3,0,"require"],[24,22,3,0],[24,23,3,0,"_dependencyMap"],[24,37,3,0],[25,2,3,0],[25,6,3,0,"axios"],[25,11,3,0],[25,14,3,0,"_interopDefault"],[25,29,3,0],[25,30,3,0,"_axios"],[25,36,3,0],[26,2,5,0],[26,6,5,6,"API_URL"],[26,13,5,13],[26,16,5,13,"_expoVirtualEnv"],[26,31,5,13],[26,32,5,13,"env"],[26,35,5,13],[26,36,5,13,"EXPO_PUBLIC_BACKEND_URL"],[26,59,5,51],[27,2,34,7],[27,6,34,13,"useAuthStore"],[27,18,34,25],[27,21,34,28],[27,25,34,28,"create"],[27,33,34,34],[27,34,34,34,"create"],[27,40,34,34],[27,42,34,46],[27,43,34,47,"set"],[27,46,34,50],[27,48,34,52,"get"],[27,51,34,55],[27,57,34,61],[28,4,35,2,"user"],[28,8,35,6],[28,10,35,8],[28,14,35,12],[29,4,36,2,"token"],[29,9,36,7],[29,11,36,9],[29,15,36,13],[30,4,37,2,"isAuthenticated"],[30,19,37,17],[30,21,37,19],[30,26,37,24],[31,4,38,2,"isLoading"],[31,13,38,11],[31,15,38,13],[31,19,38,17],[32,4,40,2,"login"],[32,9,40,7],[33,6,40,7],[33,10,40,7,"_ref"],[33,14,40,7],[33,21,40,7,"_asyncToGenerator"],[33,38,40,7],[33,39,40,7,"default"],[33,46,40,7],[33,48,40,9],[33,59,40,16,"email"],[33,64,40,29],[33,66,40,31,"password"],[33,74,40,47],[33,76,40,52],[34,8,41,4],[34,12,41,10,"response"],[34,20,41,18],[34,29,41,27,"axios"],[34,34,41,32],[34,35,41,32,"default"],[34,42,41,32],[34,43,41,33,"post"],[34,47,41,37],[34,48,41,38],[34,51,41,41,"API_URL"],[34,58,41,48],[34,75,41,65],[34,77,41,67],[35,10,41,69,"email"],[35,15,41,74],[36,10,41,76,"password"],[37,8,41,85],[37,9,41,86],[37,10,41,87],[38,8,42,4],[38,12,42,4,"_response$data"],[38,26,42,4],[38,29,42,35,"response"],[38,37,42,43],[38,38,42,44,"data"],[38,42,42,48],[39,10,42,12,"access_token"],[39,22,42,24],[39,25,42,24,"_response$data"],[39,39,42,24],[39,40,42,12,"access_token"],[39,52,42,24],[40,10,42,26,"user"],[40,14,42,30],[40,17,42,30,"_response$data"],[40,31,42,30],[40,32,42,26,"user"],[40,36,42,30],[41,8,43,4],[41,14,43,10,"AsyncStorage"],[41,26,43,22],[41,27,43,22,"default"],[41,34,43,22],[41,35,43,23,"setItem"],[41,42,43,30],[41,43,43,31],[41,50,43,38],[41,52,43,40,"access_token"],[41,64,43,52],[41,65,43,53],[42,8,44,4,"axios"],[42,13,44,9],[42,14,44,9,"default"],[42,21,44,9],[42,22,44,10,"defaults"],[42,30,44,18],[42,31,44,19,"headers"],[42,38,44,26],[42,39,44,27,"common"],[42,45,44,33],[42,46,44,34],[42,61,44,49],[42,62,44,50],[42,65,44,53],[42,75,44,63,"access_token"],[42,87,44,75],[42,89,44,77],[43,8,45,4,"set"],[43,11,45,7],[43,12,45,8],[44,10,45,10,"user"],[44,14,45,14],[45,10,45,16,"token"],[45,15,45,21],[45,17,45,23,"access_token"],[45,29,45,35],[46,10,45,37,"isAuthenticated"],[46,25,45,52],[46,27,45,54],[47,8,45,59],[47,9,45,60],[47,10,45,61],[48,6,46,2],[48,7,46,3],[49,6,46,3],[49,22,40,2,"login"],[49,27,40,7,"login"],[49,28,40,7,"_x"],[49,30,40,7],[49,32,40,7,"_x2"],[49,35,40,7],[50,8,40,7],[50,15,40,7,"_ref"],[50,19,40,7],[50,20,40,7,"apply"],[50,25,40,7],[50,32,40,7,"arguments"],[50,41,40,7],[51,6,40,7],[52,4,40,7],[52,7,46,3],[53,4,48,2,"register"],[53,12,48,10],[54,6,48,10],[54,10,48,10,"_ref2"],[54,15,48,10],[54,22,48,10,"_asyncToGenerator"],[54,39,48,10],[54,40,48,10,"default"],[54,47,48,10],[54,49,48,12],[54,60,48,19,"email"],[54,65,48,32],[54,67,48,34,"password"],[54,75,48,50],[54,77,48,52,"firstName"],[54,86,48,69],[54,88,48,71,"lastName"],[54,96,48,87],[54,98,48,89,"dateOfBirth"],[54,109,48,108],[54,111,48,110,"referralCode"],[54,123,48,131],[54,125,48,136],[55,8,49,4],[55,12,49,10,"response"],[55,20,49,18],[55,29,49,27,"axios"],[55,34,49,32],[55,35,49,32,"default"],[55,42,49,32],[55,43,49,33,"post"],[55,47,49,37],[55,48,49,38],[55,51,49,41,"API_URL"],[55,58,49,48],[55,78,49,68],[55,80,49,70],[56,10,50,6,"email"],[56,15,50,11],[57,10,51,6,"password"],[57,18,51,14],[58,10,52,6,"firstName"],[58,19,52,15],[59,10,53,6,"lastName"],[59,18,53,14],[60,10,54,6,"dateOfBirth"],[60,21,54,17],[61,10,55,6,"referralCode"],[61,22,55,18],[61,24,55,20,"referralCode"],[61,36,55,32],[61,40,55,36,"undefined"],[62,8,56,4],[62,9,56,5],[62,10,56,6],[63,8,57,4],[63,12,57,4,"_response$data2"],[63,27,57,4],[63,30,57,35,"response"],[63,38,57,43],[63,39,57,44,"data"],[63,43,57,48],[64,10,57,12,"access_token"],[64,22,57,24],[64,25,57,24,"_response$data2"],[64,40,57,24],[64,41,57,12,"access_token"],[64,53,57,24],[65,10,57,26,"user"],[65,14,57,30],[65,17,57,30,"_response$data2"],[65,32,57,30],[65,33,57,26,"user"],[65,37,57,30],[66,8,58,4],[66,14,58,10,"AsyncStorage"],[66,26,58,22],[66,27,58,22,"default"],[66,34,58,22],[66,35,58,23,"setItem"],[66,42,58,30],[66,43,58,31],[66,50,58,38],[66,52,58,40,"access_token"],[66,64,58,52],[66,65,58,53],[67,8,59,4,"axios"],[67,13,59,9],[67,14,59,9,"default"],[67,21,59,9],[67,22,59,10,"defaults"],[67,30,59,18],[67,31,59,19,"headers"],[67,38,59,26],[67,39,59,27,"common"],[67,45,59,33],[67,46,59,34],[67,61,59,49],[67,62,59,50],[67,65,59,53],[67,75,59,63,"access_token"],[67,87,59,75],[67,89,59,77],[68,8,60,4,"set"],[68,11,60,7],[68,12,60,8],[69,10,60,10,"user"],[69,14,60,14],[70,10,60,16,"token"],[70,15,60,21],[70,17,60,23,"access_token"],[70,29,60,35],[71,10,60,37,"isAuthenticated"],[71,25,60,52],[71,27,60,54],[72,8,60,59],[72,9,60,60],[72,10,60,61],[73,6,61,2],[73,7,61,3],[74,6,61,3],[74,22,48,2,"register"],[74,30,48,10,"register"],[74,31,48,10,"_x3"],[74,34,48,10],[74,36,48,10,"_x4"],[74,39,48,10],[74,41,48,10,"_x5"],[74,44,48,10],[74,46,48,10,"_x6"],[74,49,48,10],[74,51,48,10,"_x7"],[74,54,48,10],[74,56,48,10,"_x8"],[74,59,48,10],[75,8,48,10],[75,15,48,10,"_ref2"],[75,20,48,10],[75,21,48,10,"apply"],[75,26,48,10],[75,33,48,10,"arguments"],[75,42,48,10],[76,6,48,10],[77,4,48,10],[77,7,61,3],[78,4,63,2,"logout"],[78,10,63,8],[79,6,63,8],[79,10,63,8,"_ref3"],[79,15,63,8],[79,22,63,8,"_asyncToGenerator"],[79,39,63,8],[79,40,63,8,"default"],[79,47,63,8],[79,49,63,10],[79,62,63,22],[80,8,64,4],[80,14,64,10,"AsyncStorage"],[80,26,64,22],[80,27,64,22,"default"],[80,34,64,22],[80,35,64,23,"removeItem"],[80,45,64,33],[80,46,64,34],[80,53,64,41],[80,54,64,42],[81,8,65,4],[81,15,65,11,"axios"],[81,20,65,16],[81,21,65,16,"default"],[81,28,65,16],[81,29,65,17,"defaults"],[81,37,65,25],[81,38,65,26,"headers"],[81,45,65,33],[81,46,65,34,"common"],[81,52,65,40],[81,53,65,41],[81,68,65,56],[81,69,65,57],[82,8,66,4,"set"],[82,11,66,7],[82,12,66,8],[83,10,66,10,"user"],[83,14,66,14],[83,16,66,16],[83,20,66,20],[84,10,66,22,"token"],[84,15,66,27],[84,17,66,29],[84,21,66,33],[85,10,66,35,"isAuthenticated"],[85,25,66,50],[85,27,66,52],[86,8,66,58],[86,9,66,59],[86,10,66,60],[87,6,67,2],[87,7,67,3],[88,6,67,3],[88,22,63,2,"logout"],[88,28,63,8,"logout"],[88,29,63,8],[89,8,63,8],[89,15,63,8,"_ref3"],[89,20,63,8],[89,21,63,8,"apply"],[89,26,63,8],[89,33,63,8,"arguments"],[89,42,63,8],[90,6,63,8],[91,4,63,8],[91,7,67,3],[92,4,69,2,"loadToken"],[92,13,69,11],[93,6,69,11],[93,10,69,11,"_ref4"],[93,15,69,11],[93,22,69,11,"_asyncToGenerator"],[93,39,69,11],[93,40,69,11,"default"],[93,47,69,11],[93,49,69,13],[93,62,69,25],[94,8,70,4],[94,12,70,8],[95,10,71,6],[95,14,71,12,"token"],[95,19,71,17],[95,28,71,26,"AsyncStorage"],[95,40,71,38],[95,41,71,38,"default"],[95,48,71,38],[95,49,71,39,"getItem"],[95,56,71,46],[95,57,71,47],[95,64,71,54],[95,65,71,55],[96,10,72,6],[96,14,72,10,"token"],[96,19,72,15],[96,21,72,17],[97,12,73,8,"axios"],[97,17,73,13],[97,18,73,13,"default"],[97,25,73,13],[97,26,73,14,"defaults"],[97,34,73,22],[97,35,73,23,"headers"],[97,42,73,30],[97,43,73,31,"common"],[97,49,73,37],[97,50,73,38],[97,65,73,53],[97,66,73,54],[97,69,73,57],[97,79,73,67,"token"],[97,84,73,72],[97,86,73,74],[98,12,74,8],[98,16,74,14,"response"],[98,24,74,22],[98,33,74,31,"axios"],[98,38,74,36],[98,39,74,36,"default"],[98,46,74,36],[98,47,74,37,"get"],[98,50,74,40],[98,51,74,41],[98,54,74,44,"API_URL"],[98,61,74,51],[98,75,74,65],[98,76,74,66],[99,12,75,8,"set"],[99,15,75,11],[99,16,75,12],[100,14,75,14,"user"],[100,18,75,18],[100,20,75,20,"response"],[100,28,75,28],[100,29,75,29,"data"],[100,33,75,33],[101,14,75,35,"token"],[101,19,75,40],[102,14,75,42,"isAuthenticated"],[102,29,75,57],[102,31,75,59],[102,35,75,63],[103,14,75,65,"isLoading"],[103,23,75,74],[103,25,75,76],[104,12,75,82],[104,13,75,83],[104,14,75,84],[105,10,76,6],[105,11,76,7],[105,17,76,13],[106,12,77,8,"set"],[106,15,77,11],[106,16,77,12],[107,14,77,14,"isLoading"],[107,23,77,23],[107,25,77,25],[108,12,77,31],[108,13,77,32],[108,14,77,33],[109,10,78,6],[110,8,79,4],[110,9,79,5],[110,10,79,6],[110,17,79,13,"error"],[110,22,79,18],[110,24,79,20],[111,10,80,6],[111,16,80,12,"AsyncStorage"],[111,28,80,24],[111,29,80,24,"default"],[111,36,80,24],[111,37,80,25,"removeItem"],[111,47,80,35],[111,48,80,36],[111,55,80,43],[111,56,80,44],[112,10,81,6,"set"],[112,13,81,9],[112,14,81,10],[113,12,81,12,"isLoading"],[113,21,81,21],[113,23,81,23],[114,10,81,29],[114,11,81,30],[114,12,81,31],[115,8,82,4],[116,6,83,2],[116,7,83,3],[117,6,83,3],[117,22,69,2,"loadToken"],[117,31,69,11,"loadToken"],[117,32,69,11],[118,8,69,11],[118,15,69,11,"_ref4"],[118,20,69,11],[118,21,69,11,"apply"],[118,26,69,11],[118,33,69,11,"arguments"],[118,42,69,11],[119,6,69,11],[120,4,69,11],[120,7,83,3],[121,4,85,2,"refreshUser"],[121,15,85,13],[122,6,85,13],[122,10,85,13,"_ref5"],[122,15,85,13],[122,22,85,13,"_asyncToGenerator"],[122,39,85,13],[122,40,85,13,"default"],[122,47,85,13],[122,49,85,15],[122,62,85,27],[123,8,86,4],[123,12,86,8],[124,10,87,6],[124,14,87,12,"response"],[124,22,87,20],[124,31,87,29,"axios"],[124,36,87,34],[124,37,87,34,"default"],[124,44,87,34],[124,45,87,35,"get"],[124,48,87,38],[124,49,87,39],[124,52,87,42,"API_URL"],[124,59,87,49],[124,73,87,63],[124,74,87,64],[125,10,88,6,"set"],[125,13,88,9],[125,14,88,10],[126,12,88,12,"user"],[126,16,88,16],[126,18,88,18,"response"],[126,26,88,26],[126,27,88,27,"data"],[127,10,88,32],[127,11,88,33],[127,12,88,34],[128,8,89,4],[128,9,89,5],[128,10,89,6],[128,17,89,13,"error"],[128,22,89,18],[128,24,89,20],[129,10,90,6,"console"],[129,17,90,13],[129,18,90,14,"error"],[129,23,90,19],[129,24,90,20],[129,49,90,45],[129,51,90,47,"error"],[129,56,90,52],[129,57,90,53],[130,8,91,4],[131,6,92,2],[131,7,92,3],[132,6,92,3],[132,22,85,2,"refreshUser"],[132,33,85,13,"refreshUser"],[132,34,85,13],[133,8,85,13],[133,15,85,13,"_ref5"],[133,20,85,13],[133,21,85,13,"apply"],[133,26,85,13],[133,33,85,13,"arguments"],[133,42,85,13],[134,6,85,13],[135,4,85,13],[136,2,93,0],[136,3,93,1],[136,4,93,2],[136,5,93,3],[137,0,93,4],[137,3]],"functionMap":{"names":["<global>","create$argument_0","login","register","logout","loadToken","refreshUser"],"mappings":"AAA;8CCiC;SCM;GDM;YEE;GFa;UGE;GHI;aIE;GJc;eKE;GLO;EDC"},"hasCjsExports":false},"type":"js/module"}]}