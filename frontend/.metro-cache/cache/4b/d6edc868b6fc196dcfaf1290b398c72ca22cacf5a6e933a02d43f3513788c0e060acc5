{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":26,"index":130}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _zustand = require(_dependencyMap[1], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[3], \"axios\");\n  var axios = _interopDefault(_axios);\n  const API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  const useAuthStore = (0, _zustand.create)((set, get) => ({\n    user: null,\n    token: null,\n    isAuthenticated: false,\n    isLoading: true,\n    login: async (email, password) => {\n      const response = await axios.default.post(`${API_URL}/api/auth/login`, {\n        email,\n        password\n      });\n      const {\n        access_token,\n        user\n      } = response.data;\n      await AsyncStorage.default.setItem('token', access_token);\n      axios.default.defaults.headers.common['Authorization'] = `Bearer ${access_token}`;\n      set({\n        user,\n        token: access_token,\n        isAuthenticated: true\n      });\n    },\n    register: async (email, password, firstName, lastName, dateOfBirth) => {\n      const response = await axios.default.post(`${API_URL}/api/auth/register`, {\n        email,\n        password,\n        firstName,\n        lastName,\n        dateOfBirth\n      });\n      const {\n        access_token,\n        user\n      } = response.data;\n      await AsyncStorage.default.setItem('token', access_token);\n      axios.default.defaults.headers.common['Authorization'] = `Bearer ${access_token}`;\n      set({\n        user,\n        token: access_token,\n        isAuthenticated: true\n      });\n    },\n    logout: async () => {\n      await AsyncStorage.default.removeItem('token');\n      delete axios.default.defaults.headers.common['Authorization'];\n      set({\n        user: null,\n        token: null,\n        isAuthenticated: false\n      });\n    },\n    loadToken: async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('token');\n        if (token) {\n          axios.default.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n          const response = await axios.default.get(`${API_URL}/api/auth/me`);\n          set({\n            user: response.data,\n            token,\n            isAuthenticated: true,\n            isLoading: false\n          });\n        } else {\n          set({\n            isLoading: false\n          });\n        }\n      } catch (error) {\n        await AsyncStorage.default.removeItem('token');\n        set({\n          isLoading: false\n        });\n      }\n    },\n    refreshUser: async () => {\n      try {\n        const response = await axios.default.get(`${API_URL}/api/auth/me`);\n        set({\n          user: response.data\n        });\n      } catch (error) {\n        console.error('Failed to refresh user:', error);\n      }\n    }\n  }));\n});","lineCount":111,"map":[[12,2,31,0,"Object"],[12,8,31,0],[12,9,31,0,"defineProperty"],[12,23,31,0],[12,24,31,0,"exports"],[12,31,31,0],[13,4,31,0,"enumerable"],[13,14,31,0],[14,4,31,0,"get"],[14,7,31,0],[14,18,31,0,"get"],[14,19,31,0],[15,6,31,0],[15,13,31,0,"useAuthStore"],[15,25,31,0],[16,4,31,0],[17,2,31,0],[18,2,89,4],[18,6,89,4,"_expoVirtualEnv"],[18,21,89,4],[18,24,89,4,"require"],[18,31,89,4],[18,32,89,4,"_dependencyMap"],[18,46,89,4],[19,2,1,0],[19,6,1,0,"_zustand"],[19,14,1,0],[19,17,1,0,"require"],[19,24,1,0],[19,25,1,0,"_dependencyMap"],[19,39,1,0],[20,2,2,0],[20,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,42,2,0],[20,45,2,0,"require"],[20,52,2,0],[20,53,2,0,"_dependencyMap"],[20,67,2,0],[21,2,2,0],[21,6,2,0,"AsyncStorage"],[21,18,2,0],[21,21,2,0,"_interopDefault"],[21,36,2,0],[21,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[21,73,2,0],[22,2,3,0],[22,6,3,0,"_axios"],[22,12,3,0],[22,15,3,0,"require"],[22,22,3,0],[22,23,3,0,"_dependencyMap"],[22,37,3,0],[23,2,3,0],[23,6,3,0,"axios"],[23,11,3,0],[23,14,3,0,"_interopDefault"],[23,29,3,0],[23,30,3,0,"_axios"],[23,36,3,0],[24,2,5,0],[24,8,5,6,"API_URL"],[24,15,5,13],[24,18,5,13,"_expoVirtualEnv"],[24,33,5,13],[24,34,5,13,"env"],[24,37,5,13],[24,38,5,13,"EXPO_PUBLIC_BACKEND_URL"],[24,61,5,51],[25,2,31,7],[25,8,31,13,"useAuthStore"],[25,20,31,25],[25,23,31,28],[25,27,31,28,"create"],[25,35,31,34],[25,36,31,34,"create"],[25,42,31,34],[25,44,31,46],[25,45,31,47,"set"],[25,48,31,50],[25,50,31,52,"get"],[25,53,31,55],[25,59,31,61],[26,4,32,2,"user"],[26,8,32,6],[26,10,32,8],[26,14,32,12],[27,4,33,2,"token"],[27,9,33,7],[27,11,33,9],[27,15,33,13],[28,4,34,2,"isAuthenticated"],[28,19,34,17],[28,21,34,19],[28,26,34,24],[29,4,35,2,"isLoading"],[29,13,35,11],[29,15,35,13],[29,19,35,17],[30,4,37,2,"login"],[30,9,37,7],[30,11,37,9],[30,17,37,9,"login"],[30,18,37,16,"email"],[30,23,37,29],[30,25,37,31,"password"],[30,33,37,47],[30,38,37,52],[31,6,38,4],[31,12,38,10,"response"],[31,20,38,18],[31,23,38,21],[31,29,38,27,"axios"],[31,34,38,32],[31,35,38,32,"default"],[31,42,38,32],[31,43,38,33,"post"],[31,47,38,37],[31,48,38,38],[31,51,38,41,"API_URL"],[31,58,38,48],[31,75,38,65],[31,77,38,67],[32,8,38,69,"email"],[32,13,38,74],[33,8,38,76,"password"],[34,6,38,85],[34,7,38,86],[34,8,38,87],[35,6,39,4],[35,12,39,10],[36,8,39,12,"access_token"],[36,20,39,24],[37,8,39,26,"user"],[38,6,39,31],[38,7,39,32],[38,10,39,35,"response"],[38,18,39,43],[38,19,39,44,"data"],[38,23,39,48],[39,6,40,4],[39,12,40,10,"AsyncStorage"],[39,24,40,22],[39,25,40,22,"default"],[39,32,40,22],[39,33,40,23,"setItem"],[39,40,40,30],[39,41,40,31],[39,48,40,38],[39,50,40,40,"access_token"],[39,62,40,52],[39,63,40,53],[40,6,41,4,"axios"],[40,11,41,9],[40,12,41,9,"default"],[40,19,41,9],[40,20,41,10,"defaults"],[40,28,41,18],[40,29,41,19,"headers"],[40,36,41,26],[40,37,41,27,"common"],[40,43,41,33],[40,44,41,34],[40,59,41,49],[40,60,41,50],[40,63,41,53],[40,73,41,63,"access_token"],[40,85,41,75],[40,87,41,77],[41,6,42,4,"set"],[41,9,42,7],[41,10,42,8],[42,8,42,10,"user"],[42,12,42,14],[43,8,42,16,"token"],[43,13,42,21],[43,15,42,23,"access_token"],[43,27,42,35],[44,8,42,37,"isAuthenticated"],[44,23,42,52],[44,25,42,54],[45,6,42,59],[45,7,42,60],[45,8,42,61],[46,4,43,2],[46,5,43,3],[47,4,45,2,"register"],[47,12,45,10],[47,14,45,12],[47,20,45,12,"register"],[47,21,45,19,"email"],[47,26,45,32],[47,28,45,34,"password"],[47,36,45,50],[47,38,45,52,"firstName"],[47,47,45,69],[47,49,45,71,"lastName"],[47,57,45,87],[47,59,45,89,"dateOfBirth"],[47,70,45,108],[47,75,45,113],[48,6,46,4],[48,12,46,10,"response"],[48,20,46,18],[48,23,46,21],[48,29,46,27,"axios"],[48,34,46,32],[48,35,46,32,"default"],[48,42,46,32],[48,43,46,33,"post"],[48,47,46,37],[48,48,46,38],[48,51,46,41,"API_URL"],[48,58,46,48],[48,78,46,68],[48,80,46,70],[49,8,47,6,"email"],[49,13,47,11],[50,8,48,6,"password"],[50,16,48,14],[51,8,49,6,"firstName"],[51,17,49,15],[52,8,50,6,"lastName"],[52,16,50,14],[53,8,51,6,"dateOfBirth"],[54,6,52,4],[54,7,52,5],[54,8,52,6],[55,6,53,4],[55,12,53,10],[56,8,53,12,"access_token"],[56,20,53,24],[57,8,53,26,"user"],[58,6,53,31],[58,7,53,32],[58,10,53,35,"response"],[58,18,53,43],[58,19,53,44,"data"],[58,23,53,48],[59,6,54,4],[59,12,54,10,"AsyncStorage"],[59,24,54,22],[59,25,54,22,"default"],[59,32,54,22],[59,33,54,23,"setItem"],[59,40,54,30],[59,41,54,31],[59,48,54,38],[59,50,54,40,"access_token"],[59,62,54,52],[59,63,54,53],[60,6,55,4,"axios"],[60,11,55,9],[60,12,55,9,"default"],[60,19,55,9],[60,20,55,10,"defaults"],[60,28,55,18],[60,29,55,19,"headers"],[60,36,55,26],[60,37,55,27,"common"],[60,43,55,33],[60,44,55,34],[60,59,55,49],[60,60,55,50],[60,63,55,53],[60,73,55,63,"access_token"],[60,85,55,75],[60,87,55,77],[61,6,56,4,"set"],[61,9,56,7],[61,10,56,8],[62,8,56,10,"user"],[62,12,56,14],[63,8,56,16,"token"],[63,13,56,21],[63,15,56,23,"access_token"],[63,27,56,35],[64,8,56,37,"isAuthenticated"],[64,23,56,52],[64,25,56,54],[65,6,56,59],[65,7,56,60],[65,8,56,61],[66,4,57,2],[66,5,57,3],[67,4,59,2,"logout"],[67,10,59,8],[67,12,59,10],[67,18,59,10,"logout"],[67,19,59,10],[67,24,59,22],[68,6,60,4],[68,12,60,10,"AsyncStorage"],[68,24,60,22],[68,25,60,22,"default"],[68,32,60,22],[68,33,60,23,"removeItem"],[68,43,60,33],[68,44,60,34],[68,51,60,41],[68,52,60,42],[69,6,61,4],[69,13,61,11,"axios"],[69,18,61,16],[69,19,61,16,"default"],[69,26,61,16],[69,27,61,17,"defaults"],[69,35,61,25],[69,36,61,26,"headers"],[69,43,61,33],[69,44,61,34,"common"],[69,50,61,40],[69,51,61,41],[69,66,61,56],[69,67,61,57],[70,6,62,4,"set"],[70,9,62,7],[70,10,62,8],[71,8,62,10,"user"],[71,12,62,14],[71,14,62,16],[71,18,62,20],[72,8,62,22,"token"],[72,13,62,27],[72,15,62,29],[72,19,62,33],[73,8,62,35,"isAuthenticated"],[73,23,62,50],[73,25,62,52],[74,6,62,58],[74,7,62,59],[74,8,62,60],[75,4,63,2],[75,5,63,3],[76,4,65,2,"loadToken"],[76,13,65,11],[76,15,65,13],[76,21,65,13,"loadToken"],[76,22,65,13],[76,27,65,25],[77,6,66,4],[77,10,66,8],[78,8,67,6],[78,14,67,12,"token"],[78,19,67,17],[78,22,67,20],[78,28,67,26,"AsyncStorage"],[78,40,67,38],[78,41,67,38,"default"],[78,48,67,38],[78,49,67,39,"getItem"],[78,56,67,46],[78,57,67,47],[78,64,67,54],[78,65,67,55],[79,8,68,6],[79,12,68,10,"token"],[79,17,68,15],[79,19,68,17],[80,10,69,8,"axios"],[80,15,69,13],[80,16,69,13,"default"],[80,23,69,13],[80,24,69,14,"defaults"],[80,32,69,22],[80,33,69,23,"headers"],[80,40,69,30],[80,41,69,31,"common"],[80,47,69,37],[80,48,69,38],[80,63,69,53],[80,64,69,54],[80,67,69,57],[80,77,69,67,"token"],[80,82,69,72],[80,84,69,74],[81,10,70,8],[81,16,70,14,"response"],[81,24,70,22],[81,27,70,25],[81,33,70,31,"axios"],[81,38,70,36],[81,39,70,36,"default"],[81,46,70,36],[81,47,70,37,"get"],[81,50,70,40],[81,51,70,41],[81,54,70,44,"API_URL"],[81,61,70,51],[81,75,70,65],[81,76,70,66],[82,10,71,8,"set"],[82,13,71,11],[82,14,71,12],[83,12,71,14,"user"],[83,16,71,18],[83,18,71,20,"response"],[83,26,71,28],[83,27,71,29,"data"],[83,31,71,33],[84,12,71,35,"token"],[84,17,71,40],[85,12,71,42,"isAuthenticated"],[85,27,71,57],[85,29,71,59],[85,33,71,63],[86,12,71,65,"isLoading"],[86,21,71,74],[86,23,71,76],[87,10,71,82],[87,11,71,83],[87,12,71,84],[88,8,72,6],[88,9,72,7],[88,15,72,13],[89,10,73,8,"set"],[89,13,73,11],[89,14,73,12],[90,12,73,14,"isLoading"],[90,21,73,23],[90,23,73,25],[91,10,73,31],[91,11,73,32],[91,12,73,33],[92,8,74,6],[93,6,75,4],[93,7,75,5],[93,8,75,6],[93,15,75,13,"error"],[93,20,75,18],[93,22,75,20],[94,8,76,6],[94,14,76,12,"AsyncStorage"],[94,26,76,24],[94,27,76,24,"default"],[94,34,76,24],[94,35,76,25,"removeItem"],[94,45,76,35],[94,46,76,36],[94,53,76,43],[94,54,76,44],[95,8,77,6,"set"],[95,11,77,9],[95,12,77,10],[96,10,77,12,"isLoading"],[96,19,77,21],[96,21,77,23],[97,8,77,29],[97,9,77,30],[97,10,77,31],[98,6,78,4],[99,4,79,2],[99,5,79,3],[100,4,81,2,"refreshUser"],[100,15,81,13],[100,17,81,15],[100,23,81,15,"refreshUser"],[100,24,81,15],[100,29,81,27],[101,6,82,4],[101,10,82,8],[102,8,83,6],[102,14,83,12,"response"],[102,22,83,20],[102,25,83,23],[102,31,83,29,"axios"],[102,36,83,34],[102,37,83,34,"default"],[102,44,83,34],[102,45,83,35,"get"],[102,48,83,38],[102,49,83,39],[102,52,83,42,"API_URL"],[102,59,83,49],[102,73,83,63],[102,74,83,64],[103,8,84,6,"set"],[103,11,84,9],[103,12,84,10],[104,10,84,12,"user"],[104,14,84,16],[104,16,84,18,"response"],[104,24,84,26],[104,25,84,27,"data"],[105,8,84,32],[105,9,84,33],[105,10,84,34],[106,6,85,4],[106,7,85,5],[106,8,85,6],[106,15,85,13,"error"],[106,20,85,18],[106,22,85,20],[107,8,86,6,"console"],[107,15,86,13],[107,16,86,14,"error"],[107,21,86,19],[107,22,86,20],[107,47,86,45],[107,49,86,47,"error"],[107,54,86,52],[107,55,86,53],[108,6,87,4],[109,4,88,2],[110,2,89,0],[110,3,89,1],[110,4,89,2],[110,5,89,3],[111,0,89,4],[111,3]],"functionMap":{"names":["<global>","create$argument_0","login","register","logout","loadToken","refreshUser"],"mappings":"AAA;8CC8B;SCM;GDM;YEE;GFY;UGE;GHI;aIE;GJc;eKE;GLO;EDC"},"hasCjsExports":false},"type":"js/module"}]}